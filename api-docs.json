{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"clearing-costs","description":"Performs CRUD operations on the clearing cost matrix"},{"name":"card-cost","description":"Calculates the clearing cost of a card"}],"paths":{"/clearing-costs":{"get":{"tags":["clearing-costs"],"summary":"Get all clearing costs entries","operationId":"getAllClearingCosts","responses":{"200":{"description":"Clearing costs entries retrieved","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClearingCosts"}}}}}}},"put":{"tags":["clearing-costs"],"summary":"Update a new clearing costs entry","operationId":"updateClearingCosts","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClearingCostsRequest"}}},"required":true},"responses":{"200":{"description":"Clearing costs entry updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClearingCosts"}}}},"400":{"description":"Country or price was invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"}}}}}},"post":{"tags":["clearing-costs"],"summary":"Create a new clearing costs entry","operationId":"createClearingCosts","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClearingCostsRequest"}}},"required":true},"responses":{"201":{"description":"Clearing costs entry created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClearingCosts"}}}},"400":{"description":"Country or price was invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"}}}},"409":{"description":"Clearing costs for country already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Resource already exists","status":409,"description":"There already exists a clearing cost for country {country}","instance":"http://localhost:8080/clearing-costs"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Resource already exists","status":409,"description":"There already exists a clearing cost for country {country}","instance":"http://localhost:8080/clearing-costs"}}}}}},"delete":{"tags":["clearing-costs"],"summary":"Delete clearing costs entry by country","operationId":"deleteClearingCostsByCountry","parameters":[{"name":"country","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"204":{"description":"Clearing costs entry deleted"},"404":{"description":"Clearing costs not found for country","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Resource not found","status":404,"description":"No clearing costs found for country={country} found","instance":"http://localhost:8080/clearing-costs?country={country}"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Resource not found","status":404,"description":"No clearing costs found for country={country} found","instance":"http://localhost:8080/clearing-costs?country={country}"}}}}}}},"/payment-cards-cost":{"post":{"tags":["card-cost"],"summary":"Get the clearing cost of a card","operationId":"getCardCost","requestBody":{"description":"A request containing the card number, or Primary Account Number (PAN)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CardCostRequest"}}},"required":true},"responses":{"200":{"description":"Found clearing cost","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CardCostDto"},"example":{"country":"gr","cost":4.5}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/CardCostDto"},"example":{"country":"gr","cost":4.5}}}},"400":{"description":"card_number was invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"}}}},"401":{"description":"BINTable balance exhausted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"An error occurred while calling the BINTable API","status":401,"description":"Your balance is exhausted,or package expired","instance":"http://localhost:8080/payment-cards-cost"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"An error occurred while calling the BINTable API","status":401,"description":"Your balance is exhausted,or package expired","instance":"http://localhost:8080/payment-cards-cost"}}}},"403":{"description":"Invalid BINTable API key","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"An error occurred while calling the BINTable API","status":401,"description":"Invalid API Key","instance":"http://localhost:8080/payment-cards-cost"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"An error occurred while calling the BINTable API","status":401,"description":"Invalid API Key","instance":"http://localhost:8080/payment-cards-cost"}}}},"404":{"description":"Clearing costs not found for country","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Resource not found","status":404,"description":"No clearing costs found for country={country}","instance":"http://localhost:8080/payment-cards-cost"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Resource not found","status":404,"description":"No clearing costs found for country={country}","instance":"http://localhost:8080/payment-cards-cost"}}}},"422":{"description":"BINTable API key is missing","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"An error occurred while calling the BINTable API","status":422,"description":"API key is missing","instance":"http://localhost:8080/payment-cards-cost"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"An error occurred while calling the BINTable API","status":422,"description":"API key is missing","instance":"http://localhost:8080/payment-cards-cost"}}}}}}},"/clearing-costs/{id}":{"get":{"tags":["clearing-costs"],"summary":"Get clearing costs entry by its id","operationId":"getClearingCostsById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Clearing costs entry retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClearingCosts"}}}}}},"delete":{"tags":["clearing-costs"],"summary":"Delete clearing costs entry by its id","operationId":"deleteClearingCostsById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Clearing costs entry deleted"},"400":{"description":"Given id was null","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Missing path variable","status":404,"description":"A path variable (id) is missing.","instance":"http://localhost:8080/clearing-costs?country={country}"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Missing path variable","status":404,"description":"A path variable (id) is missing.","instance":"http://localhost:8080/clearing-costs?country={country}"}}}},"404":{"description":"Clearing costs not found for id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Resource not found","status":404,"description":"No clearing costs found for id={id} found","instance":"http://localhost:8080/clearing-costs/{id}"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Resource not found","status":404,"description":"No clearing costs found for id={id} found","instance":"http://localhost:8080/clearing-costs/{id}"}}}}}}},"/clearing-costs/priceRange":{"get":{"tags":["clearing-costs"],"summary":"Get clearing costs entries by the given price range","operationId":"getClearingCostsInPriceRange","parameters":[{"name":"minPrice","in":"query","required":false,"schema":{"type":"number"}},{"name":"maxPrice","in":"query","required":false,"schema":{"type":"number"}}],"responses":{"200":{"description":"Clearing costs entries retrieved","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClearingCosts"}}}}}}}},"/clearing-costs/country/{country}":{"get":{"tags":["clearing-costs"],"summary":"Get clearing costs entry by its country","operationId":"getClearingCostsByCountry","parameters":[{"name":"country","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Clearing costs entry retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClearingCosts"}}}},"404":{"description":"Clearing costs not found for country","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Resource not found","status":404,"description":"No clearing costs found for country={country} found","instance":"http://localhost:8080/clearing-costs?country={country}"}},"application/problem+json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"example":{"title":"Resource not found","status":404,"description":"No clearing costs found for country={country} found","instance":"http://localhost:8080/clearing-costs?country={country}"}}}}}}}},"components":{"schemas":{"ClearingCostsRequest":{"type":"object","description":"Request to create or update a clearing cost matrix entry","properties":{"country":{"type":"string","pattern":"[A-Za-z]{2}"},"price":{"type":"number","minimum":0}},"required":["price"]},"ClearingCosts":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"country":{"type":"string"},"price":{"type":"number"}}},"ProblemDetail":{"type":"object","properties":{"type":{"type":"string","format":"uri"},"title":{"type":"string"},"status":{"type":"integer","format":"int32"},"detail":{"type":"string"},"instance":{"type":"string","format":"uri"},"properties":{"type":"object","additionalProperties":{}}}},"CardCostRequest":{"type":"object","description":"A request to find the country and clearing cost for a card","properties":{"card_number":{"type":"string","pattern":"[0-9]{8,19}"}},"required":["card_number"]},"CardCostDto":{"type":"object","properties":{"country":{"type":"string"},"cost":{"type":"number"}}}}}}